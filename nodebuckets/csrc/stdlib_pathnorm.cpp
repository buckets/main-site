/* Generated by Nim Compiler v0.19.9 */
/*   (c) 2018 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_NEW_MANGLING_RULES
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
struct NimStringDesc;
struct TGenericSeq;
struct tyObject_PathIter_tllF14xUpDWpqG9ci5sg9bMg;
struct tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ;
struct TGenericSeq {
NI len;
NI reserved;
};
struct NimStringDesc : public TGenericSeq {
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct tyObject_PathIter_tllF14xUpDWpqG9ci5sg9bMg {
NI i;
NI prev;
NIM_BOOL notFirst;
};
struct tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ {
NI Field0;
NI Field1;
};
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem_cNwQQ4PlSJsZSwvoN5Uafwsystem)(void* a, int v, NI size);
N_NOINLINE(void, raiseIndexError2)(NI i, NI n);
static N_INLINE(NI, addInt)(NI a, NI b);
N_NOINLINE(void, raiseOverflow)(void);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, hasNext_Dd0E2qtgcAE9bHk0Er1c8Gw)(tyObject_PathIter_tllF14xUpDWpqG9ci5sg9bMg it, NimStringDesc* x);
static N_INLINE(void, nimFrame)(TFrame* s);
N_LIB_PRIVATE N_NOINLINE(void, callDepthLimitReached_II46IjNZztN9bmbxUD8dt8g)(void);
static N_INLINE(void, popFrame)(void);
N_LIB_PRIVATE N_NIMCALL(tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ, next_3g6CLq5DkIFa31vj8kMyIA)(tyObject_PathIter_tllF14xUpDWpqG9ci5sg9bMg& it, NimStringDesc* x);
static N_INLINE(NI, subInt)(NI a, NI b);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isSlash_Ec1YiWJYh6Fepz9bQuZ9bcog)(NimStringDesc* x, tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ bounds);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* s, NIM_CHAR c);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isDotDot_Ec1YiWJYh6Fepz9bQuZ9bcog_2)(NimStringDesc* x, tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ bounds);
static N_INLINE(NI, chckRange)(NI i, NI a, NI b);
N_NOINLINE(void, raiseRangeError)(NI64 val);
N_NIMCALL(NimStringDesc*, setLengthStr)(NimStringDesc* s, NI newLen);
static N_INLINE(NIM_CHAR, X5BX5D__OfW9cXEAVaB9aahBBWfdc49cgos)(NimStringDesc* s, NI i);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, substr_TWXUwbnq0SWWvDLfr8LXYw)(NimStringDesc* s, NI first, NI last);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
static N_INLINE(void, copyMem_E1xtACub5WcDa3vbrIXbwgsystem)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isDot_Ec1YiWJYh6Fepz9bQuZ9bcog_3)(NimStringDesc* x, tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ bounds);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
extern TFrame* framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw;
extern TFrame* framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw;
extern TFrame* framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw;
extern TFrame* framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw;
extern TFrame* framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw;
extern TFrame* framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw;
STRING_LITERAL(TM_DfU0iuayCGwHDN1Exp9cbKg_16, ".", 1);

static N_INLINE(void, nimSetMem_cNwQQ4PlSJsZSwvoN5Uafwsystem)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
}

static N_INLINE(void, nimZeroMem)(void* p, NI size) {
	nimSetMem_cNwQQ4PlSJsZSwvoN5Uafwsystem(p, ((int) 0), size);
}

static N_INLINE(NI, addInt)(NI a, NI b) {
	NI result;
{	result = (NI)0;
	result = (NI)((NU64)(a) + (NU64)(b));
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (((NI) 0) <= (NI)(result ^ a));
		if (T3_) goto LA4_;
		T3_ = (((NI) 0) <= (NI)(result ^ b));
		LA4_: ;
		if (!T3_) goto LA5_;
{		goto BeforeRet_;
}	}
	LA5_: ;
	raiseOverflow();
	}BeforeRet_: ;
	return result;
}

static N_INLINE(void, nimFrame)(TFrame* s) {
	NI T1_;
	T1_ = (NI)0;
	{
		if (!(framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw == NIM_NIL)) goto LA4_;
{		T1_ = ((NI) 0);
}	}
	goto LA2_;
	LA4_: ;
	{
		T1_ = ((NI) ((NI16)((*framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw).calldepth + ((NI16) 1))));
	}
	LA2_: ;
	(*s).calldepth = ((NI16) (T1_));
	(*s).prev = framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw;
	framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw = s;
	{
		if (!((*s).calldepth == ((NI16) (((NI) 2000))))) goto LA9_;
{		callDepthLimitReached_II46IjNZztN9bmbxUD8dt8g();
}	}
	LA9_: ;
}

static N_INLINE(void, popFrame)(void) {
	framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw = (*framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw).prev;
}

N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, hasNext_Dd0E2qtgcAE9bHk0Er1c8Gw)(tyObject_PathIter_tllF14xUpDWpqG9ci5sg9bMg it, NimStringDesc* x) {
	NIM_BOOL result;
	nimfr_("hasNext", "pathnorm.nim");
	result = (NIM_BOOL)0;
	nimln_(24, "pathnorm.nim");
	result = (it.i < (x ? x->len : 0));
	popFrame();
	return result;
}

static N_INLINE(NI, subInt)(NI a, NI b) {
	NI result;
{	result = (NI)0;
	result = (NI)((NU64)(a) - (NU64)(b));
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (((NI) 0) <= (NI)(result ^ a));
		if (T3_) goto LA4_;
		T3_ = (((NI) 0) <= (NI)(result ^ (NI)((NU64) ~(b))));
		LA4_: ;
		if (!T3_) goto LA5_;
{		goto BeforeRet_;
}	}
	LA5_: ;
	raiseOverflow();
	}BeforeRet_: ;
	return result;
}

N_LIB_PRIVATE N_NIMCALL(tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ, next_3g6CLq5DkIFa31vj8kMyIA)(tyObject_PathIter_tllF14xUpDWpqG9ci5sg9bMg& it, NimStringDesc* x) {
	tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ result;
	nimfr_("next", "pathnorm.nim");
	nimZeroMem((void*)(&result), sizeof(tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ));
	nimln_(27, "pathnorm.nim");
	it.prev = it.i;
	nimln_(28, "pathnorm.nim");
	{
		NIM_BOOL T3_;
		NI TM_DfU0iuayCGwHDN1Exp9cbKg_3;
		T3_ = (NIM_BOOL)0;
		T3_ = !(it.notFirst);
		if (!(T3_)) goto LA4_;
		if ((NU)(it.i) >= (NU)(x ? x->len : 0)) raiseIndexError2(it.i,(x ? x->len : 0)-1);
		T3_ = (((NU8)(x->data[it.i])) == ((NU8)(47)) || ((NU8)(x->data[it.i])) == ((NU8)(47)));
		LA4_: ;
		if (!T3_) goto LA5_;
{		nimln_(30, "pathnorm.nim");
		TM_DfU0iuayCGwHDN1Exp9cbKg_3 = addInt(it.i, ((NI) 1));
		it.i = (NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_3);
}	}
	goto LA1_;
	LA5_: ;
	{
		{
			nimln_(32, "pathnorm.nim");
			while (1) {
				NIM_BOOL T10_;
				NI TM_DfU0iuayCGwHDN1Exp9cbKg_4;
				T10_ = (NIM_BOOL)0;
				T10_ = (it.i < (x ? x->len : 0));
				if (!(T10_)) goto LA11_;
				nimln_(1309, "system.nim");
				if ((NU)(it.i) >= (NU)(x ? x->len : 0)) raiseIndexError2(it.i,(x ? x->len : 0)-1);
				T10_ = !((((NU8)(x->data[it.i])) == ((NU8)(47)) || ((NU8)(x->data[it.i])) == ((NU8)(47))));
				LA11_: ;
				if (!T10_) goto LA9;
				nimln_(32, "pathnorm.nim");
				TM_DfU0iuayCGwHDN1Exp9cbKg_4 = addInt(it.i, ((NI) 1));
				it.i = (NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_4);
			} LA9: ;
		}
	}
	LA1_: ;
	nimln_(33, "pathnorm.nim");
	{
		NI TM_DfU0iuayCGwHDN1Exp9cbKg_5;
		if (!(it.prev < it.i)) goto LA14_;
{		nimln_(34, "pathnorm.nim");
		result.Field0 = it.prev;
		TM_DfU0iuayCGwHDN1Exp9cbKg_5 = subInt(it.i, ((NI) 1));
		result.Field1 = (NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_5);
}	}
	goto LA12_;
	LA14_: ;
	{
		nimln_(35, "pathnorm.nim");
		if (!hasNext_Dd0E2qtgcAE9bHk0Er1c8Gw(it, x)) goto LA17_;
{		nimln_(36, "pathnorm.nim");
		result = next_3g6CLq5DkIFa31vj8kMyIA(it, x);
}	}
	goto LA12_;
	LA17_: ;
	LA12_: ;
	{
		nimln_(39, "pathnorm.nim");
		while (1) {
			NIM_BOOL T21_;
			NI TM_DfU0iuayCGwHDN1Exp9cbKg_6;
			T21_ = (NIM_BOOL)0;
			T21_ = (it.i < (x ? x->len : 0));
			if (!(T21_)) goto LA22_;
			if ((NU)(it.i) >= (NU)(x ? x->len : 0)) raiseIndexError2(it.i,(x ? x->len : 0)-1);
			T21_ = (((NU8)(x->data[it.i])) == ((NU8)(47)) || ((NU8)(x->data[it.i])) == ((NU8)(47)));
			LA22_: ;
			if (!T21_) goto LA20;
			TM_DfU0iuayCGwHDN1Exp9cbKg_6 = addInt(it.i, ((NI) 1));
			it.i = (NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_6);
		} LA20: ;
	}
	nimln_(40, "pathnorm.nim");
	it.notFirst = NIM_TRUE;
	popFrame();
	return result;
}

N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isSlash_Ec1YiWJYh6Fepz9bQuZ9bcog)(NimStringDesc* x, tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ bounds) {
	NIM_BOOL result;
	NIM_BOOL T1_;
	nimfr_("isSlash", "pathnorm.nim");
	result = (NIM_BOOL)0;
	nimln_(53, "pathnorm.nim");
	T1_ = (NIM_BOOL)0;
	T1_ = (bounds.Field1 == bounds.Field0);
	if (!(T1_)) goto LA2_;
	if ((NU)(bounds.Field0) >= (NU)(x ? x->len : 0)) raiseIndexError2(bounds.Field0,(x ? x->len : 0)-1);
	T1_ = (((NU8)(x->data[bounds.Field0])) == ((NU8)(47)) || ((NU8)(x->data[bounds.Field0])) == ((NU8)(47)));
	LA2_: ;
	result = T1_;
	popFrame();
	return result;
}

N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isDotDot_Ec1YiWJYh6Fepz9bQuZ9bcog_2)(NimStringDesc* x, tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ bounds) {
	NIM_BOOL result;
	NIM_BOOL T1_;
	NIM_BOOL T2_;
	NI TM_DfU0iuayCGwHDN1Exp9cbKg_7;
	NI TM_DfU0iuayCGwHDN1Exp9cbKg_8;
	nimfr_("isDotDot", "pathnorm.nim");
	result = (NIM_BOOL)0;
	nimln_(50, "pathnorm.nim");
	T1_ = (NIM_BOOL)0;
	T2_ = (NIM_BOOL)0;
	TM_DfU0iuayCGwHDN1Exp9cbKg_7 = addInt(bounds.Field0, ((NI) 1));
	T2_ = (bounds.Field1 == (NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_7));
	if (!(T2_)) goto LA3_;
	if ((NU)(bounds.Field0) >= (NU)(x ? x->len : 0)) raiseIndexError2(bounds.Field0,(x ? x->len : 0)-1);
	T2_ = ((NU8)(x->data[bounds.Field0]) == (NU8)(46));
	LA3_: ;
	T1_ = T2_;
	if (!(T1_)) goto LA4_;
	TM_DfU0iuayCGwHDN1Exp9cbKg_8 = addInt(bounds.Field0, ((NI) 1));
	if ((NU)((NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_8)) >= (NU)(x ? x->len : 0)) raiseIndexError2((NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_8),(x ? x->len : 0)-1);
	T1_ = ((NU8)(x->data[(NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_8)]) == (NU8)(46));
	LA4_: ;
	result = T1_;
	popFrame();
	return result;
}

static N_INLINE(NI, chckRange)(NI i, NI a, NI b) {
	NI result;
{	result = (NI)0;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (a <= i);
		if (!(T3_)) goto LA4_;
		T3_ = (i <= b);
		LA4_: ;
		if (!T3_) goto LA5_;
{		result = i;
		goto BeforeRet_;
}	}
	goto LA1_;
	LA5_: ;
	{
		raiseRangeError(((NI64) (i)));
	}
	LA1_: ;
	}BeforeRet_: ;
	return result;
}

static N_INLINE(NIM_CHAR, X5BX5D__OfW9cXEAVaB9aahBBWfdc49cgos)(NimStringDesc* s, NI i) {
	NIM_CHAR result;
	NI TM_DfU0iuayCGwHDN1Exp9cbKg_14;
	nimfr_("[]", "system.nim");
	result = (NIM_CHAR)0;
	nimln_(3826, "system.nim");
	TM_DfU0iuayCGwHDN1Exp9cbKg_14 = subInt((s ? s->len : 0), i);
	if ((NU)((NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_14)) >= (NU)(s ? s->len : 0)) raiseIndexError2((NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_14),(s ? s->len : 0)-1);
	result = s->data[(NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_14)];
	popFrame();
	return result;
}

static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
}

static N_INLINE(void, copyMem_E1xtACub5WcDa3vbrIXbwgsystem)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	{
		if (!!((src == NIM_NIL))) goto LA3_;
{		copyMem_E1xtACub5WcDa3vbrIXbwgsystem(((void*) ((&(*dest).data[(*dest).len]))), ((void*) ((*src).data)), ((NI) ((NI)((*src).len + ((NI) 1)))));
		(*dest).len += (*src).len;
}	}
	LA3_: ;
}

N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, isDot_Ec1YiWJYh6Fepz9bQuZ9bcog_3)(NimStringDesc* x, tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ bounds) {
	NIM_BOOL result;
	NIM_BOOL T1_;
	nimfr_("isDot", "pathnorm.nim");
	result = (NIM_BOOL)0;
	nimln_(47, "pathnorm.nim");
	T1_ = (NIM_BOOL)0;
	T1_ = (bounds.Field1 == bounds.Field0);
	if (!(T1_)) goto LA2_;
	if ((NU)(bounds.Field0) >= (NU)(x ? x->len : 0)) raiseIndexError2(bounds.Field0,(x ? x->len : 0)-1);
	T1_ = ((NU8)(x->data[bounds.Field0]) == (NU8)(46));
	LA2_: ;
	result = T1_;
	popFrame();
	return result;
}

N_LIB_PRIVATE N_NIMCALL(void, addNormalizePath_j9aPeVT29bfQpS9cY51ZAjkug)(NimStringDesc* x, NimStringDesc*& result, NI& state, NIM_CHAR dirSep) {
	tyObject_PathIter_tllF14xUpDWpqG9ci5sg9bMg it;
	nimfr_("addNormalizePath", "pathnorm.nim");
	nimZeroMem((void*)(&it), sizeof(tyObject_PathIter_tllF14xUpDWpqG9ci5sg9bMg));
	nimln_(61, "pathnorm.nim");
	it.notFirst = (((NI) 0) < (NI)((NU64)(state) >> (NU64)(((NI) 1))));
	nimln_(62, "pathnorm.nim");
	{
		if (!it.notFirst) goto LA3_;
{		{
			nimln_(63, "pathnorm.nim");
			while (1) {
				NIM_BOOL T7_;
				NI TM_DfU0iuayCGwHDN1Exp9cbKg_2;
				T7_ = (NIM_BOOL)0;
				T7_ = (it.i < (x ? x->len : 0));
				if (!(T7_)) goto LA8_;
				if ((NU)(it.i) >= (NU)(x ? x->len : 0)) raiseIndexError2(it.i,(x ? x->len : 0)-1);
				T7_ = (((NU8)(x->data[it.i])) == ((NU8)(47)) || ((NU8)(x->data[it.i])) == ((NU8)(47)));
				LA8_: ;
				if (!T7_) goto LA6;
				TM_DfU0iuayCGwHDN1Exp9cbKg_2 = addInt(it.i, ((NI) 1));
				it.i = (NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_2);
			} LA6: ;
		}
}	}
	LA3_: ;
	{
		nimln_(64, "pathnorm.nim");
		while (1) {
			NIM_BOOL T11_;
			T11_ = (NIM_BOOL)0;
			T11_ = hasNext_Dd0E2qtgcAE9bHk0Er1c8Gw(it, x);
			if (!T11_) goto LA10;
			nimln_(65, "pathnorm.nim");
			tyTuple_1v9bKyksXWMsm0vNwmZ4EuQ b = next_3g6CLq5DkIFa31vj8kMyIA(it, x);
			nimln_(66, "pathnorm.nim");
			{
				NIM_BOOL T14_;
				T14_ = (NIM_BOOL)0;
				T14_ = ((NI)((NU64)(state) >> (NU64)(((NI) 1))) == ((NI) 0));
				if (!(T14_)) goto LA15_;
				T14_ = isSlash_Ec1YiWJYh6Fepz9bQuZ9bcog(x, b);
				LA15_: ;
				if (!T14_) goto LA16_;
{				nimln_(67, "pathnorm.nim");
				result = addChar(result, dirSep);
				nimln_(68, "pathnorm.nim");
				state = (NI)(state | ((NI) 1));
}			}
			goto LA12_;
			LA16_: ;
			{
				nimln_(69, "pathnorm.nim");
				if (!isDotDot_Ec1YiWJYh6Fepz9bQuZ9bcog_2(x, b)) goto LA19_;
{				nimln_(70, "pathnorm.nim");
				{
					if (!(((NI) 1) <= (NI)((NU64)(state) >> (NU64)(((NI) 1))))) goto LA23_;
{					nimln_(71, "pathnorm.nim");
					NI d = (result ? result->len : 0);
					{
						nimln_(73, "pathnorm.nim");
						while (1) {
							NIM_BOOL T27_;
							NI TM_DfU0iuayCGwHDN1Exp9cbKg_9;
							NI TM_DfU0iuayCGwHDN1Exp9cbKg_10;
							NI TM_DfU0iuayCGwHDN1Exp9cbKg_11;
							T27_ = (NIM_BOOL)0;
							TM_DfU0iuayCGwHDN1Exp9cbKg_9 = subInt(d, ((NI) 1));
							T27_ = ((NI)(state & ((NI) 1)) < (NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_9));
							if (!(T27_)) goto LA28_;
							nimln_(1309, "system.nim");
							nimln_(73, "pathnorm.nim");
							TM_DfU0iuayCGwHDN1Exp9cbKg_10 = subInt(d, ((NI) 1));
							if ((NU)((NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_10)) >= (NU)(result ? result->len : 0)) raiseIndexError2((NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_10),(result ? result->len : 0)-1);
							T27_ = !((((NU8)(result->data[(NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_10)])) == ((NU8)(47)) || ((NU8)(result->data[(NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_10)])) == ((NU8)(47))));
							LA28_: ;
							if (!T27_) goto LA26;
							nimln_(74, "pathnorm.nim");
							TM_DfU0iuayCGwHDN1Exp9cbKg_11 = subInt(d, ((NI) 1));
							d = (NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_11);
						} LA26: ;
					}
					nimln_(75, "pathnorm.nim");
					{
						NI TM_DfU0iuayCGwHDN1Exp9cbKg_12;
						NI TM_DfU0iuayCGwHDN1Exp9cbKg_13;
						if (!(((NI) 0) < d)) goto LA31_;
{						nimln_(76, "pathnorm.nim");
						TM_DfU0iuayCGwHDN1Exp9cbKg_12 = subInt(d, ((NI) 1));
						result = setLengthStr(result, ((NI)chckRange((NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_12), ((NI) 0), ((NI) IL64(9223372036854775807)))));
						nimln_(77, "pathnorm.nim");
						TM_DfU0iuayCGwHDN1Exp9cbKg_13 = subInt(state, ((NI) 2));
						state = (NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_13);
}					}
					LA31_: ;
}				}
				goto LA21_;
				LA23_: ;
				{
					NimStringDesc* T41_;
					nimln_(79, "pathnorm.nim");
					{
						NIM_BOOL T36_;
						NIM_CHAR T38_;
						T36_ = (NIM_BOOL)0;
						T36_ = (((NI) 0) < (result ? result->len : 0));
						if (!(T36_)) goto LA37_;
						nimln_(1309, "system.nim");
						nimln_(79, "pathnorm.nim");
						T38_ = (NIM_CHAR)0;
						T38_ = X5BX5D__OfW9cXEAVaB9aahBBWfdc49cgos(result, ((NI) 1));
						T36_ = !((((NU8)(T38_)) == ((NU8)(47)) || ((NU8)(T38_)) == ((NU8)(47))));
						LA37_: ;
						if (!T36_) goto LA39_;
{						nimln_(80, "pathnorm.nim");
						result = addChar(result, dirSep);
}					}
					LA39_: ;
					nimln_(81, "pathnorm.nim");
					T41_ = (NimStringDesc*)0;
					T41_ = substr_TWXUwbnq0SWWvDLfr8LXYw(x, b.Field0, b.Field1);
					result = resizeString(result, (T41_ ? T41_->len : 0) + 0);
appendString(result, T41_);
				}
				LA21_: ;
}			}
			goto LA12_;
			LA19_: ;
			{
				nimln_(82, "pathnorm.nim");
				if (!isDot_Ec1YiWJYh6Fepz9bQuZ9bcog_3(x, b)) goto LA43_;
{}			}
			goto LA12_;
			LA43_: ;
			{
				NimStringDesc* T55_;
				NI TM_DfU0iuayCGwHDN1Exp9cbKg_15;
				nimln_(84, "pathnorm.nim");
				if (!(b.Field0 <= b.Field1)) goto LA46_;
{				nimln_(85, "pathnorm.nim");
				{
					NIM_BOOL T50_;
					NIM_CHAR T52_;
					T50_ = (NIM_BOOL)0;
					T50_ = (((NI) 0) < (result ? result->len : 0));
					if (!(T50_)) goto LA51_;
					nimln_(1309, "system.nim");
					nimln_(85, "pathnorm.nim");
					T52_ = (NIM_CHAR)0;
					T52_ = X5BX5D__OfW9cXEAVaB9aahBBWfdc49cgos(result, ((NI) 1));
					T50_ = !((((NU8)(T52_)) == ((NU8)(47)) || ((NU8)(T52_)) == ((NU8)(47))));
					LA51_: ;
					if (!T50_) goto LA53_;
{					nimln_(86, "pathnorm.nim");
					result = addChar(result, dirSep);
}				}
				LA53_: ;
				nimln_(87, "pathnorm.nim");
				T55_ = (NimStringDesc*)0;
				T55_ = substr_TWXUwbnq0SWWvDLfr8LXYw(x, b.Field0, b.Field1);
				result = resizeString(result, (T55_ ? T55_->len : 0) + 0);
appendString(result, T55_);
				nimln_(88, "pathnorm.nim");
				TM_DfU0iuayCGwHDN1Exp9cbKg_15 = addInt(state, ((NI) 2));
				state = (NI)(TM_DfU0iuayCGwHDN1Exp9cbKg_15);
}			}
			goto LA12_;
			LA46_: ;
			LA12_: ;
		} LA10: ;
	}
	nimln_(89, "pathnorm.nim");
	{
		NIM_BOOL T58_;
		T58_ = (NIM_BOOL)0;
		T58_ = ((result ? result->len : 0) == 0);
		if (!(T58_)) goto LA59_;
		nimln_(483, "system.nim");
		T58_ = !(((x ? x->len : 0) == 0));
		LA59_: ;
		if (!T58_) goto LA60_;
{		nimln_(89, "pathnorm.nim");
		result = copyString(((NimStringDesc*) &TM_DfU0iuayCGwHDN1Exp9cbKg_16));
}	}
	LA60_: ;
	popFrame();
}
