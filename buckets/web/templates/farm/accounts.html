{% extends 'farm/base.html' %}

{% block content %}
<h1>Accounts</h1>

<table class="spaced">
  <tr>
    <th>Account</th>
    <th>Balance</th>
  </tr>
  {% for account in accounts %}
  <tr>
    <td>{{ account.name }}</td>
    <td class="{{ 'negative' if account.balance < 0 }}">{{ account.balance|money }}</td>
  </tr>
  {% endfor %}
  {% if accounts %}
  {% set total = accounts|sum(attribute='balance') %}
  <tr class="subtotal">
    <td>Total</td>
    <td class="{{ 'negative' if total < 0 }}">{{ total|money }}</td>
  </tr>
  {% endif %}
  <tbody>
    <form method="post">
      <tr>
        <td><input type="text" name="name"></td>
        <td><input type="text" name="balance"></td>
        <td><button type="submit">Add Account</button></td>
      </tr>
    </form> 
  </tbody>
</table>
{% endblock %}