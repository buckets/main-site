{% extends 'base.html' %}

{% block navlinks %}
{% if g.show.summary %}<a {{ navlink('.summary') }}>Summary</a>{% endif %}
{% if g.show.transactions %}<a {{ navlink('.transactions') }}>Transactions</a>{% endif %}
{% if g.show.buckets %}<a {{ navlink('.buckets') }}>Buckets</a>{% endif %}
<a {{ navlink('.accounts') }}>Accounts</a>
{% if g.show.connections %}<a {{ navlink('.connections') }}>Connections</a>{% endif %}
{% if g.show.reports %}<a {{ navlink('.reports') }}>Reports</a>{% endif %}
{% endblock %}

{% block extrahead %}
<script src="/static/js/vend/lodash.min.js"></script>
<script src="/static/js/vend/jquery-3.1.0.min.js"></script>
{% if g.debug %}
<script src="/static/js/vend/react-15.2.1.js"></script>
<script src="/static/js/vend/react-dom-15.2.1.js"></script>
{% else %}
<script src="/static/js/vend/react-15.2.1.min.js"></script>
<script src="/static/js/vend/react-dom-15.2.1.min.js"></script>
{% endif %}
<script src="/static/js/vend/ReactDnD.min.js"></script>
<script src="/static/js/vend/ReactDnDHTML5Backend.min.js"></script>
<script src="/static/js/vend/browser.min.js"></script>

<script src="/static/js/money.js"></script>
<script src="/static/js/react-money.jsx" type="text/babel"></script>
<script src="/static/js/goals.js"></script>
<script src="/static/js/react-goals.jsx" type="text/babel"></script>
<script>
function apiRequest(data, success) {
  var label = '';
  if (_.isArray(data)) {
    label = _.uniq(_.map(data, 'method')).join(',')
  } else {
    label = data.method;
  }
  $.ajax({
    type: 'POST',
    url: '{{ url_for('farm.api') }}-' + label,
    data: JSON.stringify(data),
    contentType: 'application/json',
    success: success
  });
}
</script>
{% endblock %}

{% block content %}
{% endblock %}
